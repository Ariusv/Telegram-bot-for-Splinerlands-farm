### UA
# Telegram бот для адміністрування ферми в Splinterlands
Ця програма є надбудовую для бота [alfficcadenti](https://github.com/alfficcadenti/splinterlands-bot)

## Донат
Буду вдячний за можливу фінансову підтримку)
* BSC - 0xB82D7f7092145A587151DE7329183D7561207d2D
* ETHEREUM - 0xB82D7f7092145A587151DE7329183D7561207d2D

## Інсталяція
Спершу слід встановити [Python](https://www.python.org/downloads/), а також [NodeJS](https://nodejs.org/it/download/).
Після цього в кореневу директорію бота потрібно завантажити [chromedriver](https://chromedriver.chromium.org/downloads) і за допомогою cmd (Windows) або terminal (MAC/Linux) виконати наступні команди:
* npm install
* pip install selenium
* pip install psutil
* pip install requests
* pip install aiogram

В текстовий файл creds.txt вписуємо дані акаунтів Splinterlands у форматі (один акаунт - один рядок):

* login email posting_key active_key
* login email posting_key active_key
* ...


В файлі config.json вписуємо:

* "token": "токен вашого telegram бота в лапках"
* "admin_id": ваше унікальне [id](@GetMyIdBot_bot) без лапок


Приклад: 
{"token": "738309:4mfeo94ckdmv493mdk", "admin_id":1729304736 }

Базу битв newHistory.json закидуємо в папку data.

Запускаємо файл script.py. При початковій конфігурації бот запускатиме акаунти в два потоки з інтервалом 180 секунди при стандартній стратегії битв.

#### Зауваження

Бажано встановити IDE [PyCharm](https://www.jetbrains.com/ru-ru/pycharm/) для роботи з ботом на Windows, оскільки є невирішена проблема з припиненням роботи потоків. Якщо запускати в консолі чи стандартній IDE, то після закриття програми потрібно через диспетчер задач вручну ліквідувати процес Python. У роботі за допомогою PyCharm ця проблема не виникає.

## Функціонал бота

* /start - перезапускаємо бота
![](/images/1.png)
* Stop - зупинка роботи ферми. Слід почекати деякий час, поки завершать гру запущені акаунти.
![](/images/2.jpg)
* Check - перевірка акаунтів. Передбачена можливість перегляду log-файлу, отримання інформації про всі або лише вибрані акаунти.
![](/images/3.jpg)
![](/images/4.jpg)
![](/images/5.png)
* Set a strategy - вибір стратегії гри акаунтів. Бажано спочатку перед обранням стратегії зупинити бота.
  *  Standart - стратегія, при якій кожен акаунт буде завжди віддавати перевагу виконанню квесту до повного його проходження. Після завершення квесту гратиме "найкращими" комбінаціями.
  *  Quests - стратегія, при якій гратимуть лише акаунти, в яких не пройдені квести.
  *  Wins - акаунти не проходитимуть квести.
* Threads - кількість одночасно запущених акаунтів.
* Time - час в секундах між запусками акаунтів.
* Також можна вибирати, які акаунти будуть грати, а які відпочивати.
![](/images/6.jpg)
![](/images/7.png)
* Start - продовження роботи з обраною стратегією
* Withdraw decs - надсилання деків на BSC гаманець або гравцеві з усіх чи лише обраних акаунтів. Гаманець має бути збережений на кожному акаунті.
* Send cards - надсилання карт гравцеві з усіх чи лише обраних акаунтів.
* Skip quests - пропуск квестів.

